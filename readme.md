# Болванка проекта для 3-го движка

## Установка

1. Создаете каталог в котором будет размещен проект

      `mkdir {projectname}`
2. Переход в каталог

    `cd {projectname}`
3. Клонирование репозитория с  шаблоном проекта

    `git clone https://github.com/intpro/engine3base.git ./`
4. Установка пакетов для работы движка

    `composer install`
5. Установка пакетов для разработки

    `npm install`
6. Затем необоходимо создать базу данных и подцепить ее к файлу `.env`

7. После этого выполнить последовательно команды:

    * `php artisan key:generate` - создать ключ приложения
    * `php artisan vendor:publish` - опубликовать конфиг файл, создать рабочие директории
    * `php artisan migrate` - создать таблицы в базе данных
    * `php artisan db:seed` - создать юзера для работы с админ панелью
8. Переходим в папку public - `cd public`

9. Копируем скрипты и стили для панели администратора

    `git clone https://github.com/InterProFront/admin3.git ./admin`

10. Если это *nix система  то
    `chmod -R 777 ./`

# Справка по командам движка

## Консольные команды

### В корневом каталоге

- `php artisan sync all` - синхронизировать конфигурационные файлы с базой
- `composer update interpro\*` - обновить пакеты движка

### В папке public

- `gulp watch` - Слежение за изменениями в папке /dev/less и /dev/img . Запуск соответсвующих тасков ( компиляция less, копирование и минификация изображений )
- `gulp style --production` - Компиляция less для боевого сервера. Стили минифицируются, соурсмап не пишется.

## Файлы конфигураций

- `interpro\qs.php` - Конфиг сайта ( все статичные поля)
- `interpro\feedback.php` - Настройка для форм обратной связи
- `interpro\images.php` -  Указание каким изображениям какие кропы и ресайзы применять
- `interpro\modimages.php` - Указание какие есть ватермарки и маски
- `interpro\resizes.php` - Ресайзы для картинок
- `interpro\crops.php` - Кропы для картинок
- `interpro\seo.php` - СЕО поля для сайта, а так же какие блокам или группам они цепляются